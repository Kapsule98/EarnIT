(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-302c559a"],{"648a":function(t,e,a){},"7a88":function(t,e,a){"use strict";a("648a")},b687:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("topnav",{attrs:{link3:"Account",link4:'<i class="fa fa-shopping-cart"></i> Cart ',link5:'<i class="fa fa-user"></i> Login',link1:"",link2:"",url1:"/",url2:"/",url3:"/dashboard",url4:"/cart",url5:"/login",url6:"/",searchbar:!0,display_categories:!0}}),t.loading?s("spinner"):t._e(),s("div",{staticClass:"greyback"}),s("div",{staticClass:"w3-container"},[s("div",{staticClass:"w3-row"},[s("div",{staticClass:"w3-threequarter"},[s("b-card",[s("h2",{staticStyle:{"border-bottom":"1px solid #bababa",padding:"20px"}},[t._v(" Coupons Cart ")]),!0===t.empty?s("div",[s("br"),s("br"),s("center",[s("h1",[t._v("Your cart is empty!")])]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")],1):t._e(),t._l(t.cart.cart,(function(e){return s("div",{key:e.length,staticClass:"couponcard"},[s("div",{staticClass:"w3-row"},[s("div",{staticClass:"w3-col m9"},[s("div",{staticClass:"card_remaining"},[s("svg",{staticClass:"bi bi-geo-alt",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}}),s("path",{attrs:{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})]),t._v(" "+t._s(e.seller_display_name)+" ")]),"FIXED"===e.type?s("div",{staticClass:"w3-col m3"},[s("img",{staticClass:"product_img",attrs:{src:e.image_url}})]):s("div",{staticClass:"w3-col m3"},[s("img",{staticClass:"product_img",attrs:{src:a("a61f"),alt:""}})]),"ITEM_DISCOUNT"===e.type?s("div",{staticClass:"card_item"},[t._v(" "+t._s(e.discount_percent)+"% off on "),s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.products+" "}},t._l(e.products,(function(a,r){return s("span",{key:a.offer_text},[t._v(" "+t._s(e.products[r])+" "),r!=Object.keys(e.products).length-1?s("span",[t._v(", ")]):t._e()])})),0),s("div",{staticClass:"card_validity"},[t._v(" valid till "+t._s(t.moment(1e3*e.validity[1]).format("DD-MM-YYYY"))+" ")])]):"FIXED"===e.type?s("div",{staticClass:"card_item"},[t._v(" "+t._s(Math.round(e.discount_percent))+"% off on "),s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.products+" "}},[s("router-link",{attrs:{to:{path:"/product_description",query:{seller:e.seller_email,offer_text:e.offer_text}}}},[t._v(t._s(e.products.toString()))])],1),s("div",{staticClass:"product_cost"},[s("i",{staticClass:"fa fa-inr",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.offer_price)+" "),s("del",[s("i",{staticClass:"fa fa-inr",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.mrp))])]),s("div",{staticClass:"card_validity"},[t._v(" valid till "+t._s(t.moment(1e3*e.validity[1]).format("DD-MM-YYYY"))+" ")])]):s("div",{staticClass:"card_item"},[t._v(" "+t._s(e.discount_percent)+"% off on Total Bill "),s("div",{staticClass:"card_validity"},[t._v(" valid till "+t._s(t.moment(1e3*e.validity[1]).format("DD-MM-YYYY"))+" ")])]),s("div",{staticClass:"w3-row"},[s("div",{staticClass:"w3-col m9"},[s("br")]),s("div",{staticClass:"w3-col m3"})])]),s("div",{staticClass:"w3-col m3"},[s("button",{staticClass:"w3-button",staticStyle:{width:"90%",margin:"30px 5%",background:"#008cff",color:"white"},attrs:{id:"reedem"},on:{click:function(a){return t.redeemOffer(e.offer_text,e.seller_email)}}},[t._v(" Reedem coupon ")]),s("button",{staticClass:"delbtn",on:{click:function(a){return t.removeItem(e.offer_text,e.seller_email)}}},[t._v(" delete ")])])]),e.offer_text===t.reedemdetailso&&!0===t.showstatus?s("div",[s("b-alert",{attrs:{variant:"success",show:""}},[t._v(" provide the OTP and coupon code to the Shop to reedem it! "),s("br"),t._v(" OTP :"+t._s(t.reedemdetails)+" | offer code :"+t._s(t.reedemdetailso)+" ")])],1):t._e()])})),s("div")],2)],1),s("div",{staticClass:"w3-quarter p-card"})])]),s("bottomnav"),s("sitefooter")],1)},r=[],i=(a("d3b7"),a("750c")),o=a("ca81"),n=a("c9d9"),c=a("bc3a"),l=a.n(c),d=a("d84d"),u=a("b817"),m={components:{topnav:i["a"],Sitefooter:o["a"],Bottomnav:d["a"],Spinner:u["a"]},data:function(){return{cart:[],reedemdetails:localStorage.getItem("otp"),reedemdetailso:localStorage.getItem("offtext"),currentTime:"",nextTime:"",showstatus:!0,empty:!1,loading:!1}},mounted:function(){this.getCart(),this.currentTime=localStorage.getItem("ct");var t=this.currentTime;this.nextTime=new Date;var e=this.nextTime.getTime();parseInt(e)-parseInt(t)>3e5&&(this.showstatus=!1)},methods:{redeemOffer:function(t,e){var a=this;this.loading=!0;var s=confirm("After reedeming the coupon it will be valid only for 5 minutes!");if(1==s){var r={offer_text:t,seller_email:e},i=this.$session.get("token"),o={headers:{Authorization:"Bearer ".concat(i)}},c=n["a"]+"/redeem";l.a.post(c,r,o).then((function(e){if(console.log(e),200===e.data.status||400===e.data.status){localStorage.setItem("otp",e.data.otp),localStorage.setItem("offtext",t),console.log(e.data.otp+""+t),a.currentTime=new Date;var s=a.currentTime.getTime();localStorage.setItem("ct",s),a.$router.go()}else alert("something went wrong")})).catch((function(t){a.errorMessage=t.message,console.error("There was an error!",t)})).finally((function(){return a.loading=!1}))}else document.getElementById("reedem").style.color="white"},getCart:function(){var t=this;this.loading=!0;var e=n["a"]+"/cart",a=this.$session.get("token");console.log(a),l.a.get(e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t.cart=e.data,console.log("cart"),console.log(e.data),0===t.cart.cart.length&&(t.empty=!0),200===t.cart.status&&localStorage.setItem("cartitems",t.cart.count)})).catch((function(t){console.log(t)})).finally((function(){return t.loading=!1}))},removeItem:function(t,e){var a=this;this.loading=!0;var s=n["a"]+"/cart",r=this.$session.get("token"),i={data:{offer_text:t,seller_email:e},headers:{Authorization:"Bearer ".concat(r)}};l.a.delete(s,i).then((function(t){console.log(t)})).catch((function(t){console.log(t)})).finally((function(){return a.loading=!1})),this.$router.go()}}},f=m,v=(a("7a88"),a("2877")),_=Object(v["a"])(f,s,r,!1,null,"92ed9d9a",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-302c559a.0ec3592a.js.map