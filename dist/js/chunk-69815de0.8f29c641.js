(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69815de0"],{"0522":function(t,e,a){"use strict";a("f460")},3981:function(t,e,a){"use strict";a("acec")},acec:function(t,e,a){},b687:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topnav",{attrs:{link3:"Account",link4:'<i class="fa fa-shopping-cart"></i> Cart ',link5:'<i class="fa fa-user"></i> Login',link1:"",link2:"",url1:"/",url2:"/",url3:"/dashboard",url4:"/cart",url5:"/login",url6:"/",searchbar:!0,display_categories:!0}}),t.loading?a("spinner"):t._e(),a("div",{staticClass:"greyback"}),a("div",{staticClass:"w3-container"},[a("div",{staticClass:"w3-row"},[a("div",{staticClass:"w3-threequarter"},[a("b-card",[a("h2",{staticStyle:{"border-bottom":"1px solid #bababa",padding:"20px"}},[t._v(" Coupons Cart ")]),!0===t.empty?a("div",[a("br"),a("br"),a("center",[a("h1",[t._v("Your cart is empty!")])]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")],1):t._e(),t._l(t.cart.cart,(function(e){return a("div",{key:e.length,staticClass:"couponcard"},[a("div",{staticClass:"w3-row"},[a("div",{staticClass:"w3-col m9"},[a("div",{staticClass:"card_remaining"},[a("svg",{staticClass:"bi bi-geo-alt",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}}),a("path",{attrs:{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})]),t._v(" "+t._s(e.seller_display_name)+" ")]),"FIXED"===e.type?a("div",{staticClass:"w3-col m3"},[a("img",{staticClass:"product_img",attrs:{src:e.image_url}})]):a("div",{staticClass:"w3-col m3"},[a("imgstore",{attrs:{email:e.seller_email,category:e.category}})],1),"ITEM_DISCOUNT"===e.type?a("div",{staticClass:"card_item"},[t._v(" "+t._s(e.discount_percent)+"% off on "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.products+" "}},t._l(e.products,(function(r,s){return a("span",{key:r.offer_text},[t._v(" "+t._s(e.products[s])+" "),s!=Object.keys(e.products).length-1?a("span",[t._v(", ")]):t._e()])})),0),a("div",{staticClass:"card_validity"},[t._v(" valid till "+t._s(t.moment(1e3*e.validity[1]).format("DD-MM-YYYY"))+" ")])]):"FIXED"===e.type?a("div",{staticClass:"card_item"},[t._v(" "+t._s(Math.round(e.discount_percent))+"% off on "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.products+" "}},[a("router-link",{attrs:{to:{path:"/product_description",query:{seller:e.seller_email,offer_text:e.offer_text}}}},[t._v(t._s(e.products.toString()))])],1),a("div",{staticClass:"product_cost"},[a("i",{staticClass:"fa fa-inr",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.offer_price)+" "),a("del",[a("i",{staticClass:"fa fa-inr",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.mrp))])]),a("div",{staticClass:"card_validity"},[t._v(" valid till "+t._s(t.moment(1e3*e.validity[1]).format("DD-MM-YYYY"))+" ")])]):a("div",{staticClass:"card_item"},[t._v(" "+t._s(e.discount_percent)+"% off on Total Bill "),a("div",{staticClass:"card_validity"},[t._v(" valid till "+t._s(t.moment(1e3*e.validity[1]).format("DD-MM-YYYY"))+" ")])]),a("div",{staticClass:"w3-row"},[a("div",{staticClass:"w3-col m9"},[a("br")]),a("div",{staticClass:"w3-col m3"})])]),a("div",{staticClass:"w3-col m3"},[a("button",{staticClass:"w3-button",staticStyle:{width:"90%",margin:"30px 5%",background:"#008cff",color:"white"},attrs:{id:"reedem"},on:{click:function(a){return t.redeemOffer(e.offer_text,e.seller_email)}}},[t._v(" Reedem coupon ")]),a("button",{staticClass:"delbtn",on:{click:function(a){return t.removeItem(e.offer_text,e.seller_email)}}},[t._v(" delete ")])])]),e.offer_text===t.reedemdetailso&&!0===t.showstatus?a("div",[a("b-alert",{attrs:{variant:"success",show:""}},[t._v(" provide the OTP and coupon code to the Shop to reedem it! "),a("br"),t._v(" OTP :"+t._s(t.reedemdetails)+" | offer code :"+t._s(t.reedemdetailso)+" ")])],1):t._e()])})),a("div")],2)],1),a("div",{staticClass:"w3-quarter p-card"})])]),a("bottomnav"),a("sitefooter")],1)},s=[],i=(a("d3b7"),a("750c")),o=a("ca81"),n=a("c9d9"),c=a("bc3a"),l=a.n(c),d=a("d84d"),u=a("b817"),m=a("9a52"),f={components:{topnav:i["a"],Sitefooter:o["a"],Bottomnav:d["a"],Spinner:u["a"],Imgstore:m["a"]},data:function(){return{cart:[],reedemdetails:localStorage.getItem("otp"),reedemdetailso:localStorage.getItem("offtext"),currentTime:"",nextTime:"",showstatus:!0,empty:!1,loading:!1}},mounted:function(){this.getCart(),this.currentTime=localStorage.getItem("ct");var t=this.currentTime;this.nextTime=new Date;var e=this.nextTime.getTime();parseInt(e)-parseInt(t)>3e5&&(this.showstatus=!1)},methods:{redeemOffer:function(t,e){var a=this;this.loading=!0;var r=confirm("After reedeming the coupon it will be valid only for 5 minutes!");if(1==r){var s={offer_text:t,seller_email:e},i=this.$session.get("token"),o={headers:{Authorization:"Bearer ".concat(i)}},c=n["a"]+"/redeem";l.a.post(c,s,o).then((function(e){if(console.log(e),200===e.data.status||400===e.data.status){localStorage.setItem("otp",e.data.otp),localStorage.setItem("offtext",t),console.log(e.data.otp+""+t),a.currentTime=new Date;var r=a.currentTime.getTime();localStorage.setItem("ct",r),a.$router.go()}else alert("something went wrong")})).catch((function(t){a.errorMessage=t.message,console.error("There was an error!",t)})).finally((function(){return a.loading=!1}))}else document.getElementById("reedem").style.color="white"},getCart:function(){var t=this;this.loading=!0;var e=n["a"]+"/cart",a=this.$session.get("token");console.log(a),l.a.get(e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t.cart=e.data,console.log("cart"),console.log(e.data),0===t.cart.cart.length&&(t.empty=!0),200===t.cart.status&&localStorage.setItem("cartitems",t.cart.count)})).catch((function(t){console.log(t)})).finally((function(){return t.loading=!1}))},removeItem:function(t,e){var a=this;this.loading=!0;var r=n["a"]+"/cart",s=this.$session.get("token"),i={data:{offer_text:t,seller_email:e},headers:{Authorization:"Bearer ".concat(s)}};l.a.delete(r,i).then((function(t){console.log(t)})).catch((function(t){console.log(t)})).finally((function(){return a.loading=!1})),this.$router.go()}}},v=f,_=(a("3981"),a("2877")),p=Object(_["a"])(v,r,s,!1,null,"3f8b70a6",null);e["default"]=p.exports},b817:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader_wrapper"},[a("div",{staticClass:"loader"})])}],i={},o=i,n=(a("0522"),a("2877")),c=Object(n["a"])(o,r,s,!1,null,"2b43097a",null);e["a"]=c.exports},f460:function(t,e,a){}}]);
//# sourceMappingURL=chunk-69815de0.8f29c641.js.map