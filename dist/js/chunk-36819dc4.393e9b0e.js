(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36819dc4"],{6521:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("topnav",{attrs:{link1:'<i class="fa fa-cubes"></i> Dashboard',link2:'<i class="fa fa-money"></i> Customer Bill',link3:'<i class="fa fa-user"></i> Account',url1:"/verifycoupon",url2:"/customerbill",url3:"/account",link4:"",link5:""}}),o("div",{staticClass:"w3-row"},[o("div",{staticClass:"w3-col m2",staticStyle:{padding:"1px"}}),o("div",{staticClass:"w3-col m8"},[o("b-card",{staticStyle:{margin:"20px 0px"}},[o("h1",[t._v("Edit Your Shop Details")]),o("hr"),o("div",{staticClass:"w3-row",staticStyle:{"margin-top":"50px"}},[o("div",{staticClass:"w3-col m2"},[o("b",[t._v("Shop Image")])]),o("div",{staticClass:"w3-col m10"},[o("cropper",{ref:"cropper",staticClass:"cropper",attrs:{src:t.dp,"stencil-props":{aspectRatio:1.6}}}),o("br"),o("div",{staticClass:"no_btn",attrs:{id:"no_btn"}},[o("b-button",{staticStyle:{margin:"10px"},attrs:{variant:"primary",id:"crop"},on:{click:t.crop}},[t._v("Crop")]),o("b-button",{attrs:{variant:"primary"},on:{click:t.encodeImageFileAsURL}},[t._v("set profile image")])],1),o("div",{staticStyle:{float:"right","margin-top":"10px"}},[o("input",{attrs:{type:"file",accept:"image/*",name:"image",id:"file"},on:{change:t.loadFile}})]),o("img",{attrs:{src:t.image,alt:"",width:"50%"}})],1)]),o("form",{attrs:{action:""}},[o("table",{staticClass:"accountable",staticStyle:{width:"100%"}},[o("tr",[o("td",{staticClass:"detail"},[t._v("Shop Name")]),o("td",{staticClass:"description"},[o("b-form-input",{attrs:{type:"text"},model:{value:t.shop_name,callback:function(e){t.shop_name=e},expression:"shop_name"}})],1)]),o("tr",[o("td",{staticClass:"detail"},[t._v("Phone no.")]),o("td",{staticClass:"description"},[o("b-form-input",{attrs:{type:"text"},model:{value:t.shop_contact,callback:function(e){t.shop_contact=e},expression:"shop_contact"}})],1)]),o("tr",[o("td",{staticClass:"detail"},[t._v("Address")]),o("td",{staticClass:"description"},[o("b-form-input",{attrs:{type:"text"},model:{value:t.shop_address,callback:function(e){t.shop_address=e},expression:"shop_address"}})],1)]),o("tr",[o("td",{staticClass:"detail"},[t._v("Shop Bio")]),o("td",{staticClass:"description"},[o("b-form-input",{attrs:{type:"text"},model:{value:t.bio,callback:function(e){t.bio=e},expression:"bio"}})],1)]),o("tr",[o("td",{staticClass:"detail"},[t._v("Location")]),o("td",{staticClass:"description"},[o("b-form-input",{attrs:{type:"text"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1)]),o("tr",[o("td",{staticClass:"detail"},[o("a",{attrs:{href:t.location}},[t._v("View on map")])])])])]),o("b-button",{staticStyle:{float:"right",margin:"10px"},attrs:{variant:"primary"},on:{click:function(e){return t.updateDetails()}}},[t._v("Edit")])],1)],1),o("div",{staticClass:"w3-col m2",staticStyle:{padding:"1px"}})]),o("sitefooter")],1)},a=[],i=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("750c")),n=o("ca81"),c=o("bc3a"),r=o.n(c),l=o("c9d9"),d=o("a2c1"),h=(o("f7aa"),{components:{topnav:i["a"],Sitefooter:n["a"],Cropper:d["a"]},data:function(){return{coordinates:{width:0,height:0,left:0,top:0},newimg:"",user:{},shop_name:this.$session.get("user_data").shop_name,shop_address:this.$session.get("user_data").address,shop_contact:this.$session.get("user_data").contact_no,shop_category:this.$session.get("user_data").category,location:this.$session.get("user_data").location,bio:"",image:"",allcategories:[],dp:""}},mounted:function(){var t=this;this.getShopBio(),"seller"===this.$session.get("user_type")&&(document.getElementsByClassName("topnav")[0].style.height="70px");var e=l["a"]+"/categories",o=this.$session.get("token");console.log(this.$session.get("user_data")),r.a.get(e,{headers:{Authorization:"Bearer ".concat(o)}}).then((function(e){t.allcategories=e.data.categories})).catch((function(t){console.log(t)})),this.user=this.$session.get("user_data"),console.log(this.$session.get("user_data")),this.getImageBinary()},methods:{crop:function(){var t=this.$refs.cropper.getResult(),e=t.coordinates,o=t.canvas;this.coordinates=e,this.dp=o.toDataURL("image/jpeg"),this.encodeImageFileAsURL()},loadFile:function(t){this.dp=URL.createObjectURL(t.target.files[0]),document.getElementById("no_btn").style.display="block"},getImageBinary:function(){var t=this,e=l["a"]+"/seller/image",o=this.$session.get("token"),s={headers:{Authorization:"Bearer ".concat(o)}};r.a.get(e,s).then((function(e){console.log(e),200===e.status&&200===e.data.status?(t.dp=e.data.image,console.log(e)):console.log("Some error occured")})).catch((function(t){console.log(t)}))},updateDetails:function(){var t=confirm("You will need to signin again to update your changes!");1==t&&(this.shop_name&&this.updateShopName(),this.location&&(console.log("updating location"),this.updateLocation()),this.shop_contact&&this.updateContact(),this.address&&this.updateAddress(),this.bio&&this.updateBio())},updateShopName:function(){var t=this,e={shop_name:this.shop_name},o=l["a"]+"/seller/update_shop_name",s=this.$session.get("token"),a={headers:{Authorization:"Bearer ".concat(s)}};r.a.post(o,e,a).then((function(t){return console.log(t)})).catch((function(e){t.errorMessage=e.message,console.error("There was an error!",e)})),console.log(this.shop_name)},updateLocation:function(){var t=this;console.log("updating location",this.location);var e={location:this.location},o=l["a"]+"/seller/update_location",s=this.$session.get("token"),a={headers:{Authorization:"Bearer ".concat(s)}};r.a.post(o,e,a).then((function(t){return console.log(t)})).catch((function(e){t.errorMessage=e.message,console.error("There was an error!",e)}))},getShopBio:function(){var t=this,e=l["a"]+"/seller/bio",o=this.$session.get("token"),s={headers:{Authorization:"Bearer ".concat(o)}};r.a.get(e,s).then((function(e){200===e.status&&200===e.data.status&&(t.bio=e.data.bio)})).catch((function(t){console.log(t)}))},updateBio:function(){var t=l["a"]+"/seller/bio",e={bio:this.bio},o=this.$session.get("token"),s={headers:{Authorization:"Bearer ".concat(o)}};r.a.post(t,e,s).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},updateContact:function(){var t=this,e={contact:this.shop_contact},o=l["a"]+"/seller/update_contact",s=this.$session.get("token"),a={headers:{Authorization:"Bearer ".concat(s)}};r.a.post(o,e,a).then((function(t){return console.log(t)})).catch((function(e){t.errorMessage=e.message,console.error("There was an error!",e)})),console.log(this.shop_contact)},updateAddress:function(){var t=this,e={address:this.shop_adress},o=l["a"]+"/seller/update_address",s=this.$session.get("token"),a={headers:{Authorization:"Bearer ".concat(s)}};r.a.post(o,e,a).then((function(t){return console.log(t)})).catch((function(e){t.errorMessage=e.message,console.error("There was an error!",e)})),console.log(this.shop_address)},encodeImageFileAsURL:function(){document.getElementById("crop").click();var t=JSON.parse(localStorage.getItem("profile")).token,e=l["a"]+"/seller/image";console.log(this.jwt);var o={headers:{Authorization:"Bearer ".concat(t)}};console.log(o);var s={image:this.dp};console.log(s),r.a.post(e,s,o).then((function(t){console.log("res",t)})).catch((function(t){console.log(t)})),document.getElementById("no_btn").style.display="none"}}}),p=h,u=(o("872e"),o("2877")),g=Object(u["a"])(p,s,a,!1,null,"29b48052",null);e["default"]=g.exports},"872e":function(t,e,o){"use strict";o("a4a9")},a4a9:function(t,e,o){}}]);
//# sourceMappingURL=chunk-36819dc4.393e9b0e.js.map