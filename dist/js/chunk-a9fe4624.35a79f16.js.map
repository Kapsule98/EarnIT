{"version":3,"sources":["webpack:///./src/components/Customer/cart.vue?258d","webpack:///./src/components/Customer/cart.vue?7e5d","webpack:///src/components/Customer/cart.vue","webpack:///./src/components/Customer/cart.vue?4737","webpack:///./src/components/Customer/cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_e","staticClass","staticStyle","_v","empty","_l","cart","offer","key","length","_s","seller_display_name","type","image_url","image","discount_percent","directives","name","rawName","modifiers","products","prods","index1","offer_text","Object","keys","moment","validity","format","Math","round","path","query","seller","seller_email","toString","offer_price","mrp","on","$event","redeemOffer","removeItem","reedemdetailso","showstatus","reedemdetails","staticRenderFns","components","data","localStorage","getItem","currentTime","nextTime","loading","mounted","getCart","Date","nt","getTime","parseInt","ct","methods","r","confirm","email","headers","Authorization","document","getElementById","style","color","console","log","JWTToken","$router","go","component"],"mappings":"kHAAA,W,gECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,UAAU,MAAQ,4CAA8C,MAAQ,mCAAqC,MAAQ,GAAG,MAAQ,GAAG,KAAO,IAAI,KAAO,IAAI,KAAO,aAAa,KAAO,QAAQ,KAAO,SAAS,KAAO,IAAI,WAAY,EAAK,oBAAqB,KAASN,EAAW,QAAEI,EAAG,WAAWJ,EAAIO,KAAKH,EAAG,MAAM,CAACI,YAAY,aAAaJ,EAAG,MAAM,CAACI,YAAY,gBAAgB,CAACJ,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,MAAM,CAACI,YAAY,mBAAmB,CAACJ,EAAG,SAAS,CAACA,EAAG,KAAK,CAACK,YAAY,CAAC,gBAAgB,oBAAoB,QAAU,SAAS,CAACT,EAAIU,GAAG,qBAAmC,IAAdV,EAAIW,MAAgBP,EAAG,MAAM,CAACA,EAAG,MAAMA,EAAG,MAAMA,EAAG,SAAS,CAACA,EAAG,KAAK,CAACJ,EAAIU,GAAG,2BAA2BN,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,OAAO,GAAGJ,EAAIO,KAAKP,EAAIY,GAAIZ,EAAIa,KAAS,MAAE,SAASC,GAAO,OAAOV,EAAG,MAAM,CAACW,IAAID,EAAME,OAAOR,YAAY,cAAc,CAACJ,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,MAAM,CAACI,YAAY,kBAAkB,CAACJ,EAAG,MAAM,CAACI,YAAY,gBAAgBF,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,eAAe,QAAU,cAAc,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,qQAAqQF,EAAG,OAAO,CAACE,MAAM,CAAC,EAAI,0EAA0EN,EAAIU,GAAG,IAAIV,EAAIiB,GAAGH,EAAMI,qBAAqB,OAAuB,UAAfJ,EAAMK,KAAkBf,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,MAAM,CAACI,YAAY,cAAcF,MAAM,CAAC,IAAMQ,EAAMM,eAAehB,EAAG,MAAM,CAACI,YAAY,aAAa,CAAER,EAAU,OAAEI,EAAG,MAAM,CAACA,EAAG,MAAM,CAACI,YAAY,cAAcF,MAAM,CAAC,IAAMN,EAAIqB,WAAWjB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACI,YAAY,cAAcF,MAAM,CAAC,IAAM,EAAQ,eAA+C,kBAAfQ,EAAMK,KAA0Bf,EAAG,MAAM,CAACI,YAAY,aAAa,CAACR,EAAIU,GAAG,IAAIV,EAAIiB,GAAGH,EAAMQ,kBAAkB,aAAalB,EAAG,OAAO,CAACmB,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQpB,MAAM,CAAC,MAAQQ,EAAMa,SAAW,MAAM3B,EAAIY,GAAIE,EAAc,UAAE,SAASc,EAAMC,GAAQ,OAAOzB,EAAG,OAAO,CAACW,IAAIa,EAAME,YAAY,CAAC9B,EAAIU,GAAG,IAAIV,EAAIiB,GAAGH,EAAMa,SAASE,IAAS,KAC90EA,GAAUE,OAAOC,KAAKlB,EAAMa,UAAUX,OAAS,EAC/CZ,EAAG,OAAO,CAACJ,EAAIU,GAAG,QAAQV,EAAIO,UAAS,GAAGH,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACR,EAAIU,GAAG,eAAeV,EAAIiB,GAAGjB,EAAIiC,OAA2B,IAApBnB,EAAMoB,SAAS,IAAWC,OAAO,eAAe,SAAyB,UAAfrB,EAAMK,KAAkBf,EAAG,MAAM,CAACI,YAAY,aAAa,CAACR,EAAIU,GAAG,IAAIV,EAAIiB,GAAGmB,KAAKC,MAAMvB,EAAMQ,mBAAmB,aAAalB,EAAG,OAAO,CAACmB,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQpB,MAAM,CAAC,MAAQQ,EAAMa,SAAW,MAAM,CAACvB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAC1dgC,KAAM,uBACNC,MAAO,CACLC,OAAQ1B,EAAM2B,aACdX,WAAYhB,EAAMgB,eAElB,CAAC9B,EAAIU,GAAGV,EAAIiB,GAAGH,EAAMa,SAASe,gBAAgB,GAAGtC,EAAG,MAAM,CAACI,YAAY,gBAAgB,CAACJ,EAAG,IAAI,CAACI,YAAY,YAAYF,MAAM,CAAC,cAAc,UAAUN,EAAIU,GAAG,IAAIV,EAAIiB,GAAGH,EAAM6B,aAAa,KAAKvC,EAAG,MAAM,CAACA,EAAG,IAAI,CAACI,YAAY,YAAYF,MAAM,CAAC,cAAc,UAAUN,EAAIU,GAAG,IAAIV,EAAIiB,GAAGH,EAAM8B,UAAUxC,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACR,EAAIU,GAAG,eAAeV,EAAIiB,GAAGjB,EAAIiC,OAA2B,IAApBnB,EAAMoB,SAAS,IAAWC,OAAO,eAAe,SAAS/B,EAAG,MAAM,CAACI,YAAY,aAAa,CAACR,EAAIU,GAAG,IAAIV,EAAIiB,GAAGH,EAAMQ,kBAAkB,wBAAwBlB,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACR,EAAIU,GAAG,eAAeV,EAAIiB,GAAGjB,EAAIiC,OAA2B,IAApBnB,EAAMoB,SAAS,IAAWC,OAAO,eAAe,SAAS/B,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,QAAQA,EAAG,MAAM,CAACI,YAAY,kBAAkBJ,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,SAAS,CAACI,YAAY,YAAYC,YAAY,CAAC,MAAQ,MAAM,OAAS,UAAU,WAAa,UAAU,MAAQ,SAASH,MAAM,CAAC,GAAK,UAAUuC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9C,EAAI+C,YAAYjC,EAAMgB,WAAYhB,EAAM2B,iBAAiB,CAACzC,EAAIU,GAAG,qBAAqBN,EAAG,SAAS,CAACI,YAAY,SAASqC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO9C,EAAIgD,WAAWlC,EAAMgB,WAAYhB,EAAM2B,iBAAiB,CAACzC,EAAIU,GAAG,kBAC3tCI,EAAMgB,aAAe9B,EAAIiD,iBAAqC,IAAnBjD,EAAIkD,WAC/C9C,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,UAAU,KAAO,KAAK,CAACN,EAAIU,GAAG,+DAA+DN,EAAG,MAAMJ,EAAIU,GAAG,SAASV,EAAIiB,GAAGjB,EAAImD,eAAe,kBAAkBnD,EAAIiB,GAAGjB,EAAIiD,gBAAgB,QAAQ,GAAGjD,EAAIO,UAASH,EAAG,QAAQ,IAAI,GAAGA,EAAG,MAAM,CAACI,YAAY,0BAA0BJ,EAAG,aAAaA,EAAG,eAAe,IAC9WgD,EAAkB,G,6FCmLtB,GACEC,WAAY,CAAd,iEACEC,KAFF,WAGI,MAAO,CACLzC,KAAM,GACNsC,cAAeI,aAAaC,QAAQ,OACpCP,eAAgBM,aAAaC,QAAQ,WACrCC,YAAa,GACbC,SAAU,GACVR,YAAY,EACZvC,OAAO,EACPgD,SAAS,IAGbC,QAdF,WAeI3D,KAAK4D,UACL5D,KAAKwD,YAAcF,aAAaC,QAAQ,MACxC,IAAJ,mBACIvD,KAAKyD,SAAW,IAAII,KACpB,IAAIC,EAAK9D,KAAKyD,SAASM,UAEnBC,SAASF,GAAME,SAASC,GAAM,MAChCjE,KAAKiD,YAAa,IAGtBiB,QAAS,CACPpB,YADJ,SACA,gBACM9C,KAAK0D,SAAU,EACf,IAAIS,EAAIC,QACd,mEAEM,GAAS,GAALD,EAAW,CACb,IAAR,GACUtC,WAAYA,EACZW,aAAc6B,GAGxB,6BACA,GACUC,QAAS,CACPC,cAAe,UAA3B,YAGA,mBACQ,EAAR,EACA,YACA,kBAEU,GADA,QAAV,OACA,0CACY,aAAZ,0BACY,aAAZ,qBACY,QAAZ,qBACY,EAAZ,qBACY,IAAZ,0BACY,aAAZ,gBACY,EAAZ,kBAEY,MAAZ,2BAGA,mBACU,EAAV,uBACU,QAAV,kCAEA,oBAAU,OAAV,qBAEQC,SAASC,eAAe,UAAUC,MAAMC,MAAQ,SAGpDf,QA5CJ,WA4CA,WACM5D,KAAK0D,SAAU,EACf,IAAN,iBACA,6BACMkB,QAAQC,IAAIC,GACZ,EAAN,EACA,OAAQ,QAAR,sCACA,kBACQ,EAAR,YACQ,QAAR,YACQ,QAAR,YACA,yBACU,EAAV,UAGA,qBACU,aAAV,qCAGA,mBACQ,QAAR,UAEA,oBAAQ,OAAR,iBAEI/B,WApEJ,SAoEA,gBACM/C,KAAK0D,SAAU,EACf,IAAN,iBACA,6BAEA,GACQL,KAAM,CACJxB,WAAYA,EACZW,aAAc6B,GAEhBC,QAAS,CACPC,cAAe,UAAzB,YAGM,EAAN,EACA,YACA,kBACQ,QAAR,UAEA,mBACQ,QAAR,UAEA,oBAAQ,OAAR,gBACMvE,KAAK+E,QAAQC,QClT0U,I,wBCQzVC,EAAY,eACd,EACAnF,EACAqD,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E","file":"js/chunk-a9fe4624.35a79f16.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=5371a083&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('topnav',{attrs:{\"link3\":\"Account\",\"link4\":\"<i class=\\\"fa fa-shopping-cart\\\"></i> Cart \",\"link5\":\"<i class=\\\"fa fa-user\\\"></i> Login\",\"link1\":\"\",\"link2\":\"\",\"url1\":\"/\",\"url2\":\"/\",\"url3\":\"/dashboard\",\"url4\":\"/cart\",\"url5\":\"/login\",\"url6\":\"/\",\"searchbar\":true,\"display_categories\":true}}),(_vm.loading)?_c('spinner'):_vm._e(),_c('div',{staticClass:\"greyback\"}),_c('div',{staticClass:\"w3-container\"},[_c('div',{staticClass:\"w3-row\"},[_c('div',{staticClass:\"w3-threequarter\"},[_c('b-card',[_c('h2',{staticStyle:{\"border-bottom\":\"1px solid #bababa\",\"padding\":\"20px\"}},[_vm._v(\" Coupons Cart \")]),(_vm.empty === true)?_c('div',[_c('br'),_c('br'),_c('center',[_c('h1',[_vm._v(\"Your cart is empty!\")])]),_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_c('br')],1):_vm._e(),_vm._l((_vm.cart.cart),function(offer){return _c('div',{key:offer.length,staticClass:\"couponcard\"},[_c('div',{staticClass:\"w3-row\"},[_c('div',{staticClass:\"w3-col m9\"},[_c('div',{staticClass:\"card_remaining\"},[_c('svg',{staticClass:\"bi bi-geo-alt\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\"}}),_c('path',{attrs:{\"d\":\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"}})]),_vm._v(\" \"+_vm._s(offer.seller_display_name)+\" \")]),(offer.type === 'FIXED')?_c('div',{staticClass:\"w3-col m3\"},[_c('img',{staticClass:\"product_img\",attrs:{\"src\":offer.image_url}})]):_c('div',{staticClass:\"w3-col m3\"},[(_vm.loaded)?_c('div',[_c('img',{staticClass:\"product_img\",attrs:{\"src\":_vm.image}})]):_c('div',[_c('img',{staticClass:\"product_img\",attrs:{\"src\":require(\"../../assets/def.png\")}})])]),(offer.type === 'ITEM_DISCOUNT')?_c('div',{staticClass:\"card_item\"},[_vm._v(\" \"+_vm._s(offer.discount_percent)+\"% off on \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":offer.products + ' '}},_vm._l((offer.products),function(prods,index1){return _c('span',{key:prods.offer_text},[_vm._v(\" \"+_vm._s(offer.products[index1])+\" \"),(\n                          index1 != Object.keys(offer.products).length - 1\n                        )?_c('span',[_vm._v(\", \")]):_vm._e()])}),0),_c('div',{staticClass:\"card_validity\"},[_vm._v(\" valid till \"+_vm._s(_vm.moment(offer.validity[1] * 1000).format(\"DD-MM-YYYY\"))+\" \")])]):(offer.type === 'FIXED')?_c('div',{staticClass:\"card_item\"},[_vm._v(\" \"+_vm._s(Math.round(offer.discount_percent))+\"% off on \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":offer.products + ' '}},[_c('router-link',{attrs:{\"to\":{\n                        path: '/product_description',\n                        query: {\n                          seller: offer.seller_email,\n                          offer_text: offer.offer_text,\n                        },\n                      }}},[_vm._v(_vm._s(offer.products.toString()))])],1),_c('div',{staticClass:\"product_cost\"},[_c('i',{staticClass:\"fa fa-inr\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(offer.offer_price)+\" \"),_c('del',[_c('i',{staticClass:\"fa fa-inr\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(offer.mrp))])]),_c('div',{staticClass:\"card_validity\"},[_vm._v(\" valid till \"+_vm._s(_vm.moment(offer.validity[1] * 1000).format(\"DD-MM-YYYY\"))+\" \")])]):_c('div',{staticClass:\"card_item\"},[_vm._v(\" \"+_vm._s(offer.discount_percent)+\"% off on Total Bill \"),_c('div',{staticClass:\"card_validity\"},[_vm._v(\" valid till \"+_vm._s(_vm.moment(offer.validity[1] * 1000).format(\"DD-MM-YYYY\"))+\" \")])]),_c('div',{staticClass:\"w3-row\"},[_c('div',{staticClass:\"w3-col m9\"},[_c('br')]),_c('div',{staticClass:\"w3-col m3\"})])]),_c('div',{staticClass:\"w3-col m3\"},[_c('button',{staticClass:\"w3-button\",staticStyle:{\"width\":\"90%\",\"margin\":\"30px 5%\",\"background\":\"#008cff\",\"color\":\"white\"},attrs:{\"id\":\"reedem\"},on:{\"click\":function($event){return _vm.redeemOffer(offer.offer_text, offer.seller_email)}}},[_vm._v(\" Reedem coupon \")]),_c('button',{staticClass:\"delbtn\",on:{\"click\":function($event){return _vm.removeItem(offer.offer_text, offer.seller_email)}}},[_vm._v(\" delete \")])])]),(\n                offer.offer_text === _vm.reedemdetailso && _vm.showstatus === true\n              )?_c('div',[_c('b-alert',{attrs:{\"variant\":\"success\",\"show\":\"\"}},[_vm._v(\" provide the OTP and coupon code to the Shop to reedem it! \"),_c('br'),_vm._v(\" OTP :\"+_vm._s(_vm.reedemdetails)+\" | offer code :\"+_vm._s(_vm.reedemdetailso)+\" \")])],1):_vm._e()])}),_c('div')],2)],1),_c('div',{staticClass:\"w3-quarter p-card\"})])]),_c('bottomnav'),_c('sitefooter')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <topnav\r\n      link3=\"Account\"\r\n      link4='<i class=\"fa fa-shopping-cart\"></i> Cart '\r\n      link5='<i class=\"fa fa-user\"></i> Login'\r\n      link1=\"\"\r\n      link2=\"\"\r\n      url1=\"/\"\r\n      url2=\"/\"\r\n      url3=\"/dashboard\"\r\n      url4=\"/cart\"\r\n      url5=\"/login\"\r\n      url6=\"/\"\r\n      :searchbar=\"true\"\r\n      :display_categories=\"true\"\r\n    ></topnav>\r\n    <spinner v-if=\"loading\"></spinner>\r\n    <div class=\"greyback\"></div>\r\n    <div class=\"w3-container\">\r\n      <div class=\"w3-row\">\r\n        <div class=\"w3-threequarter\">\r\n          <b-card>\r\n            <h2 style=\"border-bottom: 1px solid #bababa; padding: 20px\">\r\n              Coupons Cart\r\n            </h2>\r\n            <div v-if=\"empty === true\">\r\n              <br /><br />\r\n              <center><h1>Your cart is empty!</h1></center>\r\n              <br /><br /><br /><br /><br /><br />\r\n            </div>\r\n            <div\r\n              class=\"couponcard\"\r\n              v-for=\"offer in cart.cart\"\r\n              :key=\"offer.length\"\r\n            >\r\n              <div class=\"w3-row\">\r\n                <div class=\"w3-col m9\">\r\n                  <div class=\"card_remaining\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"16\"\r\n                      height=\"16\"\r\n                      fill=\"currentColor\"\r\n                      class=\"bi bi-geo-alt\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path\r\n                        d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\"\r\n                      />\r\n                      <path\r\n                        d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"\r\n                      />\r\n                    </svg>\r\n                    {{ offer.seller_display_name }}\r\n                  </div>\r\n                  <div class=\"w3-col m3\" v-if=\"offer.type === 'FIXED'\">\r\n                    <img :src=\"offer.image_url\" class=\"product_img\" />\r\n                  </div>\r\n                  <div class=\"w3-col m3\" v-else>\r\n                    <div v-if=\"loaded\">\r\n                      <img :src=\"image\" class=\"product_img\" />\r\n                    </div>\r\n                    <div v-else>\r\n                      <img src=\"../../assets/def.png\" class=\"product_img\" />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"card_item\" v-if=\"offer.type === 'ITEM_DISCOUNT'\">\r\n                    {{ offer.discount_percent }}% off on\r\n                    <span v-b-tooltip.hover :title=\"offer.products + ' '\">\r\n                      <span\r\n                        v-for=\"(prods, index1) in offer.products\"\r\n                        :key=\"prods.offer_text\"\r\n                      >\r\n                        {{ offer.products[index1] }}\r\n                        <span\r\n                          v-if=\"\r\n                            index1 != Object.keys(offer.products).length - 1\r\n                          \"\r\n                          >,\r\n                        </span>\r\n                      </span>\r\n                    </span>\r\n                    <div class=\"card_validity\">\r\n                      valid till\r\n                      {{\r\n                        moment(offer.validity[1] * 1000).format(\"DD-MM-YYYY\")\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"card_item\" v-else-if=\"offer.type === 'FIXED'\">\r\n                    {{ Math.round(offer.discount_percent) }}% off on\r\n                    <span v-b-tooltip.hover :title=\"offer.products + ' '\">\r\n                      <router-link\r\n                        :to=\"{\r\n                          path: '/product_description',\r\n                          query: {\r\n                            seller: offer.seller_email,\r\n                            offer_text: offer.offer_text,\r\n                          },\r\n                        }\"\r\n                        >{{ offer.products.toString() }}</router-link\r\n                      >\r\n                    </span>\r\n                    <div class=\"product_cost\">\r\n                      <i class=\"fa fa-inr\" aria-hidden=\"true\"></i>\r\n                      {{ offer.offer_price }}\r\n                      <del>\r\n                        <i class=\"fa fa-inr\" aria-hidden=\"true\"></i>\r\n                        {{ offer.mrp }}</del\r\n                      >\r\n                    </div>\r\n                    <div class=\"card_validity\">\r\n                      valid till\r\n                      {{\r\n                        moment(offer.validity[1] * 1000).format(\"DD-MM-YYYY\")\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"card_item\" v-else>\r\n                    {{ offer.discount_percent }}% off on Total Bill\r\n                    <div class=\"card_validity\">\r\n                      valid till\r\n                      {{\r\n                        moment(offer.validity[1] * 1000).format(\"DD-MM-YYYY\")\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"w3-row\">\r\n                    <div class=\"w3-col m9\"><br /></div>\r\n                    <div class=\"w3-col m3\"></div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"w3-col m3\">\r\n                  <button\r\n                    v-on:click=\"\r\n                      redeemOffer(offer.offer_text, offer.seller_email)\r\n                    \"\r\n                    id=\"reedem\"\r\n                    class=\"w3-button\"\r\n                    style=\"\r\n                      width: 90%;\r\n                      margin: 30px 5%;\r\n                      background: #008cff;\r\n                      color: white;\r\n                    \"\r\n                  >\r\n                    Reedem coupon\r\n                  </button>\r\n                  <button\r\n                    v-on:click=\"\r\n                      removeItem(offer.offer_text, offer.seller_email)\r\n                    \"\r\n                    class=\"delbtn\"\r\n                  >\r\n                    delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div\r\n                v-if=\"\r\n                  offer.offer_text === reedemdetailso && showstatus === true\r\n                \"\r\n              >\r\n                <b-alert variant=\"success\" show>\r\n                  provide the OTP and coupon code to the Shop to reedem it!\r\n                  <br />\r\n                  OTP :{{ reedemdetails }} | offer code :{{ reedemdetailso }}\r\n                </b-alert>\r\n              </div>\r\n            </div>\r\n\r\n            <div></div>\r\n          </b-card>\r\n        </div>\r\n        <div class=\"w3-quarter p-card\"></div>\r\n      </div>\r\n    </div>\r\n    <bottomnav></bottomnav>\r\n    <sitefooter></sitefooter>\r\n  </div>\r\n</template>\r\n<script>\r\nimport topnav from \"../Seller/topnav.vue\";\r\nimport Sitefooter from \"./sitefooter.vue\";\r\nimport { BASE_URL } from \"../../utils/constants\";\r\nimport axios from \"axios\";\r\nimport Bottomnav from \"./bottomnav.vue\";\r\nimport Spinner from \"./spinner.vue\";\r\nexport default {\r\n  components: { topnav, Sitefooter, Bottomnav, Spinner },\r\n  data() {\r\n    return {\r\n      cart: [],\r\n      reedemdetails: localStorage.getItem(\"otp\"),\r\n      reedemdetailso: localStorage.getItem(\"offtext\"),\r\n      currentTime: \"\",\r\n      nextTime: \"\",\r\n      showstatus: true,\r\n      empty: false,\r\n      loading: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCart();\r\n    this.currentTime = localStorage.getItem(\"ct\");\r\n    const ct = this.currentTime;\r\n    this.nextTime = new Date();\r\n    var nt = this.nextTime.getTime();\r\n\r\n    if (parseInt(nt) - parseInt(ct) > 300000) {\r\n      this.showstatus = false;\r\n    }\r\n  },\r\n  methods: {\r\n    redeemOffer(offer_text, email) {\r\n      this.loading = true;\r\n      var r = confirm(\r\n        \"After reedeming the coupon it will be valid only for 5 minutes!\"\r\n      );\r\n      if (r == true) {\r\n        const payload = {\r\n          offer_text: offer_text,\r\n          seller_email: email,\r\n        };\r\n\r\n        const accessToken = this.$session.get(\"token\");\r\n        const options = {\r\n          headers: {\r\n            Authorization: `Bearer ${accessToken}`,\r\n          },\r\n        };\r\n        const url = BASE_URL + \"/redeem\";\r\n        axios\r\n          .post(url, payload, options)\r\n          .then((response) => {\r\n            console.log(response);\r\n            if (response.data.status === 200 || response.data.status === 400) {\r\n              localStorage.setItem(\"otp\", response.data.otp);\r\n              localStorage.setItem(\"offtext\", offer_text);\r\n              console.log(response.data.otp + \"\" + offer_text);\r\n              this.currentTime = new Date();\r\n              const ct = this.currentTime.getTime();\r\n              localStorage.setItem(\"ct\", ct);\r\n              this.$router.go();\r\n            } else {\r\n              alert(\"something went wrong\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.errorMessage = error.message;\r\n            console.error(\"There was an error!\", error);\r\n          })\r\n          .finally(() => (this.loading = false));\r\n      } else {\r\n        document.getElementById(\"reedem\").style.color = \"white\";\r\n      }\r\n    },\r\n    getCart() {\r\n      this.loading = true;\r\n      const offersurl = BASE_URL + \"/cart\";\r\n      let JWTToken = this.$session.get(\"token\");\r\n      console.log(JWTToken);\r\n      axios\r\n        .get(offersurl, { headers: { Authorization: `Bearer ${JWTToken}` } })\r\n        .then((response) => {\r\n          this.cart = response.data;\r\n          console.log(\"cart\");\r\n          console.log(response.data);\r\n          if (this.cart.cart.length === 0) {\r\n            this.empty = true;\r\n          }\r\n\r\n          if (this.cart.status === 200) {\r\n            localStorage.setItem(\"cartitems\", this.cart.count);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => (this.loading = false));\r\n    },\r\n    removeItem(offer_text, email) {\r\n      this.loading = true;\r\n      const offersurl = BASE_URL + \"/cart\";\r\n      let JWTToken = this.$session.get(\"token\");\r\n\r\n      const config = {\r\n        data: {\r\n          offer_text: offer_text,\r\n          seller_email: email,\r\n        },\r\n        headers: {\r\n          Authorization: `Bearer ${JWTToken}`,\r\n        },\r\n      };\r\n      axios\r\n        .delete(offersurl, config)\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => (this.loading = false));\r\n      this.$router.go();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.product_cost {\r\n  font-size: 20px;\r\n  color: #303030;\r\n}\r\n.product_cost del {\r\n  font-size: 14px;\r\n  color: #a3a3a3;\r\n}\r\n.product_img {\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n.p-card {\r\n  padding: 0px 10px;\r\n}\r\n.delbtn {\r\n  width: fit-content;\r\n  background: none;\r\n  border: none;\r\n  margin: 0px 10px;\r\n  color: #32a88b;\r\n  float: right;\r\n  font-size: 12px;\r\n  padding: px 2px;\r\n}\r\n.delbtn:hover {\r\n  color: rgb(75, 75, 75);\r\n}\r\n.greyback {\r\n  position: fixed;\r\n  top: -20%;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 140%;\r\n  background: rgb(241, 241, 241);\r\n  z-index: -100;\r\n}\r\n.couponcard {\r\n  width: 100%;\r\n  padding: 20px;\r\n  margin: 10px auto;\r\n  border-bottom: 1px solid rgb(214, 214, 214);\r\n}\r\n\r\n.card_item {\r\n  font-size: 20px;\r\n  color: rgba(0, 128, 128, 0.836);\r\n  float: left;\r\n  margin-top: -5px;\r\n  width: fit-content;\r\n  display: block;\r\n  padding-left: 20px;\r\n}\r\n.card_discount {\r\n  padding: 20px;\r\n  font-size: 20px;\r\n  color: rgb(49, 49, 49);\r\n}\r\n.card_validity {\r\n  padding: 25px;\r\n  font-size: 14px;\r\n  color: rgb(85, 85, 85);\r\n}\r\n.card_leftcoupons {\r\n  padding: 20px;\r\n  font-size: 18px;\r\n  color: rgb(61, 61, 61);\r\n}\r\n.card_remaining {\r\n  font-size: 15px;\r\n  color: rgb(51, 51, 51);\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px 20px;\r\n  margin-left: 150px;\r\n}\r\n.couponhome {\r\n  position: relative;\r\n  width: 90%;\r\n  height: 220px;\r\n  margin: 20px auto;\r\n  background: linear-gradient(\r\n    45deg,\r\n    rgba(72, 255, 0, 0.63),\r\n    rgba(0, 255, 191, 0.466)\r\n  );\r\n  padding: 10px;\r\n  overflow: hidden;\r\n}\r\n.c2-off {\r\n  font-size: 22px;\r\n  color: rgb(0, 0, 0);\r\n  text-transform: uppercase;\r\n  font-weight: 900;\r\n  height: 80px;\r\n  width: 100%;\r\n  margin-top: 10px;\r\n  display: block;\r\n}\r\n.c2-validity {\r\n  font-size: 14px;\r\n  color: rgb(31, 31, 31);\r\n  text-transform: lowercase;\r\n  font-weight: 400;\r\n  display: block;\r\n}\r\n.c2-shop {\r\n  font-size: 17px;\r\n  color: rgb(0, 0, 0);\r\n  font-weight: 600;\r\n  display: block;\r\n  padding: 10px;\r\n  border-bottom: 1px solid rgb(255, 255, 255);\r\n}\r\n.c2-location {\r\n  top: 5px;\r\n  left: 5px;\r\n  position: absolute;\r\n  font-size: 11px;\r\n  color: rgb(0, 0, 0);\r\n  text-transform: lowercase;\r\n  font-weight: 400;\r\n  display: block;\r\n  background: white;\r\n  border: 2px solid rgba(0, 128, 128, 0.767);\r\n  padding: 2px 3px;\r\n  border-radius: 9px;\r\n}\r\n.c2-left {\r\n  font-size: 17px;\r\n  color: rgb(255, 255, 255);\r\n  text-transform: lowercase;\r\n  font-weight: 600;\r\n  background: rgba(70, 187, 3, 0.719);\r\n  width: fit-content;\r\n  border-radius: 6px;\r\n  padding: 2px 14px;\r\n  margin: 5px auto;\r\n}\r\n.c2-back {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n}\r\n@media screen and (max-width: 600px) {\r\n  .card_validity {\r\n    padding: 0px 22px;\r\n  }\r\n  .w3-container {\r\n    padding: 0px 10px 10px 10px !important;\r\n  }\r\n  .p-card {\r\n    padding: 10px 0px;\r\n  }\r\n  .card_remaining {\r\n    font-size: 15px;\r\n    color: rgb(51, 51, 51);\r\n    display: block;\r\n    width: 100%;\r\n    padding: 10px 20px;\r\n    margin-left: 0px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=5371a083&scoped=true&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=5371a083&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5371a083\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}