(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-778b12b8"],{"0522":function(t,e,s){"use strict";s("f460")},"7f71":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("topnav",{attrs:{link1:"Register",url1:"/register",url2:"/",url3:"/",url4:"/",url5:"/",url6:"/",link2:"",link3:"",link4:"",link5:""}}),t.loading?s("spinner"):t._e(),s("div",{staticClass:"login-box"},[s("div",{staticClass:"login-header-box"},[s("div",{staticClass:"login-header",staticStyle:{"border-bottom":"none"}},[t._v("Login as")]),s("div",{staticClass:"w3-row"},[s("a",{attrs:{href:"javascript:void(0)",id:"defaultOpen"},on:{click:function(e){return t.openTab("customer")}}},[s("div",{staticClass:"reghead"},[t._v("Customer")])]),s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openTab("shop")}}},[s("div",{staticClass:"reghead"},[t._v("Seller")])])]),t._m(0)]),s("div",{staticClass:"login-content-box"},[s("div",{staticClass:"regtab w3-animate-opacity",staticStyle:{display:"none"},attrs:{id:"customer"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"login-input",staticStyle:{"border-radius":"5px 5px 0px 0px"},attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-input",staticStyle:{"border-top":"none","border-radius":"0"},attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("button",{staticClass:"login-button",on:{click:function(e){return t.login("customer")}}},[t._v("Login")]),s("a",{staticStyle:{float:"right"},attrs:{href:"/forgotpassword"}},[t._v("forgot password?")]),s("a",{staticStyle:{float:"left"},attrs:{href:"/register"}},[t._v("dont have an account? register here")])]),s("div",{staticClass:"regtab w3-animate-opacity",staticStyle:{display:"none"},attrs:{id:"shop"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"login-input",staticStyle:{"border-radius":"5px 5px 0px 0px"},attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-input",staticStyle:{"border-top":"none","border-radius":"0"},attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("button",{staticClass:"login-button",on:{click:function(e){return t.login("seller")}}},[t._v("Login")]),s("a",{staticStyle:{float:"right"},attrs:{href:"/forgotpassword"}},[t._v("forgot password?")]),s("a",{staticStyle:{float:"left"},attrs:{href:"/register"}},[t._v("dont have an account? register here")])])])]),s("sitefooter")],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"actvcont"},[s("div",{staticClass:"actvtab"})])}],r=(s("d3b7"),s("c9d9")),n=s("bc3a"),i=s.n(n),l=s("ca81"),u=s("750c"),c=s("b817"),d={components:{topnav:u["a"],Sitefooter:l["a"],Spinner:c["a"]},data:function(){return{username:"",password:"",loading:!1}},mounted:function(){if("profile"in localStorage){var t=JSON.parse(localStorage.getItem("profile"));console.log(t),"customer"===t.user_type?(this.$session.start(),this.$session.set("token",t.token),this.$session.set("user_data",t.user_data),this.$session.set("user_type","customer"),this.$session.set("logged_in","true"),this.$router.push("/")):"seller"===t.user_type&&(this.$session.start(),this.$session.set("token",t.token),this.$session.set("user_data",t.user_data),this.$session.set("user_type","seller"),this.$session.set("logged_in","true"),this.$router.push("/"))}document.getElementById("defaultOpen").click()},methods:{login:function(t){var e=this;if(this.loading=!0,""===this.username||""===this.password)alert("Please fill mandatory fields"),this.init();else{var s={username:this.username,password:this.password};if("customer"===t){var a=r["a"]+"/login",o=s;i.a.post(a,o).then((function(t){if(console.log(t),200===t.data.status){var s=t.data;e.$session.start(),e.$session.set("token",s.jwt),e.$session.set("user_data",s.user),e.$session.set("user_type","customer"),e.$session.set("logged_in","true");var a={token:s.jwt,user_data:s.user,user_type:"customer",logged_in:"true"};localStorage.setItem("log",e.$session.get("logged_in")),localStorage.setItem("user_type",e.$session.get("user_type")),localStorage.setItem("profile",JSON.stringify(a)),e.$router.push("/")}else alert(t.data.msg),e.loading=!1})).catch((function(t){console.log(t),alert(t)})).finally((function(){return e.loading=!1}))}if("seller"===t){var n=r["a"]+"/seller/login",l=s;i.a.post(n,l).then((function(t){if(console.log(t),200===t.data.status){var s=t.data;e.$session.start(),e.$session.set("token",s.jwt),e.$session.set("user_type","seller"),e.$session.set("user_data",s.seller),e.$session.set("logged_in","true"),localStorage.setItem("log",e.$session.get("logged_in")),localStorage.setItem("user_type",e.$session.get("user_type"));var a={token:s.jwt,user_data:s.seller,user_type:"seller",logged_in:"true"};localStorage.setItem("profile",JSON.stringify(a)),e.$router.push("/verifycoupon")}else 403===t.data.status?e.$router.push("/waiting_for_admin_approval"):(localStorage.clear(),alert(t.data.msg))})).catch((function(t){console.log(t),alert(t)}))}}},openTab:function(t){var e,s;for(s=document.getElementsByClassName("regtab"),e=0;e<s.length;e++)s[e].style.display="none";document.getElementById(t).style.display="block",document.getElementsByClassName("actvtab")[0].style.right="customer"==t?"50%":"0%"}}},p=d,g=(s("c37d"),s("2877")),m=Object(g["a"])(p,a,o,!1,null,"aa7ec010",null);e["default"]=m.exports},b817:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader_wrapper"},[s("div",{staticClass:"loader"})])}],r={},n=r,i=(s("0522"),s("2877")),l=Object(i["a"])(n,a,o,!1,null,"2b43097a",null);e["a"]=l.exports},bf26:function(t,e,s){},c37d:function(t,e,s){"use strict";s("bf26")},f460:function(t,e,s){}}]);
//# sourceMappingURL=chunk-778b12b8.7ae4400a.js.map